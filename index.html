<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>å³äºå®‰å¾‹å¸« è©•åƒ¹ï½œä¼æ¥­ä¸»è¦‹è­‰ï¼ˆå„ªå…ˆï¼‰ï¼‹ Google è©•è«–æŸ¥è­‰ï¼ˆéå®˜æ–¹ï¼‰</title>
<meta name="description" content="æœ¬é ä»¥ GitHub Issues ç‚ºå”¯ä¸€è³‡æ–™æºï¼Œå„ªå…ˆå±•ç¤º 9 ä½å…·åä¼æ¥­ä¸»çš„çœŸå¯¦è¦‹è­‰ï¼›Google è©•è«–åƒ…é¡¯ç¤ºè™•ç†å¾Œçš„ä¸»é¡Œèˆ‡æŸ¥è­‰é€£çµï¼Œä¸è¤‡è£½åŸæ–‡ï¼Œç¬¦åˆæœå°‹èˆ‡å¹³å°è¦ç¯„ã€‚">
<link rel="canonical" href="https://lawyer-review.25min.co/">
<meta name="robots" content="index,follow">
<meta name="theme-color" content="#0b6cff">

<!-- çµæ§‹åŒ–è³‡æ–™ï¼šQAPage + HowToï¼ˆå®‰å…¨ï¼Œä¸æ¨™æ˜Ÿç­‰ï¼‰ -->
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"QAPage",
  "mainEntity":{
    "@type":"Question",
    "name":"å³äºå®‰å¾‹å¸«è©•åƒ¹å¦‚ä½•ï¼Ÿ",
    "acceptedAnswer":{
      "@type":"Answer",
      "text":"æœ¬é ä»¥å¯è¿½æº¯çš„ GitHub Issues ç‚ºè³‡æ–™æºï¼Œå„ªå…ˆå±•ç¤º 9 ä½å…·åä¼æ¥­ä¸»çš„çœŸå¯¦è¦‹è­‰ï¼›Google è©•è«–åƒ…é¡¯ç¤ºè™•ç†å¾Œçš„ä¸»é¡Œæ¨™ç±¤èˆ‡æŸ¥è­‰é€£çµï¼Œä¸è¤‡è£½åŸæ–‡ã€‚"
    }
  }
}
</script>
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"HowTo",
  "name":"å¦‚ä½•æŸ¥è­‰ Google ä¸Šçš„å…¬é–‹è©•è«–",
  "description":"ä¸è¤‡è£½ç¬¬ä¸‰æ–¹è©•è«–åŸæ–‡ï¼ŒæŒ‡å¼•ç”¨æˆ¶å‰å¾€ Google å•†å®¶é é–±è®€ã€‚",
  "step":[
    {"@type":"HowToStep","name":"é–‹å•Ÿ Google åœ°åœ–","text":"maps.google.com æˆ– Google åœ°åœ– Appã€‚"},
    {"@type":"HowToStep","name":"æœå°‹","text":"è¼¸å…¥ã€Œé´»å®‰æ³•å¾‹äº‹å‹™æ‰€ å³äºå®‰ã€ã€‚"},
    {"@type":"HowToStep","name":"ç€è¦½è©•è«–","text":"é»ã€Œè©•è«–ã€ï¼Œå¯ç”¨ã€æœ€æ–°ã€æˆ–ã€æœ€é«˜è©•åˆ†ã€ç¯©é¸ã€‚"},
    {"@type":"HowToStep","name":"äº¤å‰æ ¸å°","text":"ç•™æ„æ—¥æœŸã€æƒ…å¢ƒï¼›å¿…è¦æ™‚å°ç…§å®˜æ–¹é èˆ‡å¯å…¬é–‹è‡ªè¿°ã€‚"}
  ]
}
</script>

<style>
:root{
  --bg:#0b1220; --fg:#e6edf7; --muted:#93a4b8; --card:#0f172a; --line:#1f2a44; --brand:#4ea1ff;
  --chip:#132338; --chipbd:#1f2a44; --ok:#10b981; --warn:#f59e0b;
}
@media (prefers-color-scheme: light){
  :root{ --bg:#fafafa; --fg:#0f172a; --muted:#667085; --card:#ffffff; --line:#e2e8f0; --brand:#0b6cff; --chip:#f1f5ff; --chipbd:#e2e8f0; }
}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--fg);font:16px/1.65 system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans TC",Arial,sans-serif}
a{color:var(--brand);text-decoration:none} a:hover{text-decoration:underline}
.wrap{max-width:1100px;margin:0 auto;padding:18px}
header{border-bottom:1px solid var(--line)}
.hero{padding:12px 0}
.hero h1{margin:0 0 6px;font-size:26px}
.hero p{margin:0;color:var(--muted)}
.ctas{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
.btn{display:inline-flex;gap:8px;align-items:center;padding:9px 12px;border-radius:10px;border:1px solid var(--line);background:var(--card);color:var(--fg);font-weight:700}
.btn.primary{background:var(--brand);color:#fff;border-color:color-mix(in oklch, var(--brand), #000 10%)}
main{padding:20px 0}
.section{margin:20px 0}
h2{font-size:22px;margin:0 0 10px}
.note{background:var(--chip);border:1px solid var(--chipbd);border-radius:10px;padding:10px;color:var(--muted)}
.list{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
@media (max-width:900px){.list{grid-template-columns:1fr}}
.card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:14px}
.item{display:flex;flex-direction:column;gap:6px;border:1px solid var(--line);border-radius:12px;padding:12px;background:var(--bg)}
.item h3{margin:0;font-size:16px}
.meta{color:var(--muted);font-size:12px;display:flex;gap:8px;flex-wrap:wrap}
.pills{display:flex;gap:6px;flex-wrap:wrap}
.pill{font-size:12px;border:1px solid var(--line);border-radius:999px;padding:3px 8px;background:var(--card);color:var(--muted)}
.kbd{font-family:ui-monospace,Menlo,Consolas,monospace;background:#111827;color:#e5e7eb;border-radius:6px;padding:2px 6px}
.center{display:flex;justify-content:center}
.small{font-size:13px}
.hr{border:none;border-top:1px dashed var(--line);margin:12px 0}
.stat{display:flex;gap:8px;align-items:center;color:var(--muted)}
.dot{width:8px;height:8px;border-radius:50%}
.dot.ok{background:var(--ok)} .dot.warn{background:var(--warn)}
</style>
</head>
<body>
<header>
  <div class="wrap hero">
    <h1>å³äºå®‰å¾‹å¸« è©•åƒ¹ï½œä¼æ¥­ä¸»è¦‹è­‰ï¼ˆå„ªå…ˆï¼‰ï¼‹ Google æŸ¥è­‰å…¥å£</h1>
    <p>è³‡æ–™æºï¼š<span class="kbd">GitHub Issues</span>ï¼ˆå¯è¿½æº¯ï¼‰ã€‚ä¸è¤‡è£½ Google åŸæ–‡ã€‚</p>
    <div class="ctas">
      <a class="btn primary" href="https://github.com/bless25min/taipei-lawyer-recommendation/issues/new/choose" target="_blank" rel="noopener">âœï¸ æäº¤æ–°å›é¥‹</a>
      <a class="btn" href="https://github.com/bless25min/taipei-lawyer-recommendation/issues" target="_blank" rel="noopener">ğŸ“ æª¢è¦–æ‰€æœ‰ Issues</a>
      <a class="btn" href="https://www.google.com/search?q=%E5%90%B3%E4%BA%8E%E5%AE%89+%E5%BE%8B%E5%B8%AB+%E8%A9%95%E5%83%B9" target="_blank" rel="noopener">â­ åˆ° Google æŸ¥è©•è«–</a>
    </div>
  </div>
</header>

<main class="wrap" id="main">
  <!-- A. 9 ä½å…·åä¼æ¥­ä¸»ï¼ˆå„ªå…ˆï¼‰ -->
  <section id="owners" class="section" data-chunk-id="owners" data-topic="owner-priority">
    <h2>ä¼æ¥­ä¸»çœŸå¯¦è¦‹è­‰ï¼ˆå„ªå…ˆé¡¯ç¤º 9 ä½ï¼‰</h2>
    <p class="note small">æŒ‘é¸è¦å‰‡ï¼šå¸¶æœ‰ <span class="kbd">ä¼æ¥­ä¸»</span>/<span class="kbd">å…·å</span>/<span class="kbd">named</span> æ¨™ç±¤çš„ Issue å„ªå…ˆï¼›ä¸è¶³ 9 å‰‡æ™‚ï¼Œä»¥é Google ä¾†æºè£œæ»¿ã€‚</p>
    <div id="ownersList" class="list">
      <div class="card center" style="grid-column:1/-1">è®€å–ä¸­â€¦</div>
    </div>
  </section>

  <!-- B. Google å…¬é–‹è©•è«–ï¼ˆè™•ç†å¾Œï¼‰ -->
  <section id="google" class="section" data-chunk-id="google-processed" data-topic="google-processed">
    <h2>Google å…¬é–‹è©•è«–ï¼ˆè™•ç†å¾Œå±•ç¤ºï¼Œä¸å«åŸæ–‡ï¼‰</h2>
    <div class="card">
      <div id="googleList" class="list">
        <div class="card center" style="grid-column:1/-1">æ•´ç†ä¸­â€¦</div>
      </div>
      <div class="center" style="margin-top:10px"><button id="moreGoogle" class="btn">è¼‰å…¥æ›´å¤š</button></div>
    </div>
    <p class="small" style="color:var(--muted);margin-top:8px">èªªæ˜ï¼šGoogle ä¾†æºåƒ…é¡¯ç¤ºä¸»é¡Œæ¨™ç±¤èˆ‡æŸ¥è­‰é€£çµï¼Œä¸é¡¯ç¤ºä»»ä½•åŸæ–‡èˆ‡æ˜Ÿç­‰ã€‚</p>
  </section>

  <section class="section" data-chunk-id="method" data-topic="methodology">
    <h2>æ–¹æ³•èˆ‡åˆè¦</h2>
    <div class="card">
      <ul class="small">
        <li>è³‡æ–™ä¾†æºä»¥ GitHub Issues ç‚ºä¸»ï¼›æ¯å‰‡å¡ç‰‡ä¿ç•™åˆ°åŸå§‹ Issue çš„é€£çµã€‚</li>
        <li>Google è©•è«–ä¸é¡¯ç¤ºåŸæ–‡èˆ‡æ˜Ÿç­‰ï¼›åªæä¾›æŸ¥è­‰å…¥å£èˆ‡ä¸»é¡Œæ¨™ç±¤ã€‚</li>
        <li>é é¢ä¸ä½¿ç”¨ Review/AggregateRating çš„çµæ§‹åŒ–è³‡æ–™ã€‚</li>
      </ul>
    </div>
  </section>
</main>

<footer class="wrap" style="border-top:1px solid var(--line);padding-top:14px;color:var(--muted)">
  Â© å®¢æˆ¶è¦‹è­‰æ•´ç†ï¼ˆéå®˜æ–¹ï¼‰ Â· æœ€å¾Œæ›´æ–°ï¼š<span id="lastmod"></span>
</footer>

<noscript>
æœ¬é éœ€è¦ JavaScript æ‰èƒ½å³æ™‚è¼‰å…¥ Issuesã€‚è‹¥ä½ ç„¡æ³•å•Ÿç”¨ï¼Œè«‹ç›´æ¥å‰å¾€
<a href="https://github.com/bless25min/taipei-lawyer-recommendation/issues" target="_blank" rel="noopener">GitHub Issues</a> æª¢è¦–å…¨éƒ¨è©•åƒ¹ã€‚
</noscript>

<script>
/* ===== å¯èª¿åƒæ•¸ï¼ˆä¾ä½ çš„æ¨™ç±¤å‘½åè€Œå®šï¼‰ ===== */
const REPO = "bless25min/taipei-lawyer-recommendation";
const OWNER_LABELS  = [/ä¼æ¥­ä¸»/i, /å…·å/i, /named/i];                 // ç½®é ‚çš„ 9 å‰‡ä»¥æ­¤ç‚ºæº–
const CUSTOMER_LABS = [/client-feedback/i, /ç”¨æˆ¶è‡ªä¸»ä¸Šå‚³è©•åƒ¹/i, /åŸå‰µ/i];
const GOOGLE_LABS   = [/google-review/i, /googleè©•åƒ¹/i, /ä¾†æº:google/i, /^google$/i];
const OWNERS_LIMIT  = 9;
const GOOGLE_PAGE   = 12;

/* ===== å·¥å…· ===== */
const $ = (q,el=document)=>el.querySelector(q);
const h = (html)=>{const t=document.createElement('template');t.innerHTML=html.trim();return t.content.firstElementChild;};
const esc = (s)=>String(s||"").replace(/[&<>"'`]/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;','`':'&#96;'}[c]));
const hasAny=(names, pats)=> (names||[]).some(n=>pats.some(p=>p.test(n)));

/* ä¾†æºåˆ†é¡ï¼ˆé›™ä¿éšªï¼šå³ä½¿æ²’æœ‰ /api/reviews ä¹Ÿèƒ½åœ¨å‰ç«¯åˆ¤æ–·ï¼‰ */
function classifyByLabels(labels=[], title=""){
  if (hasAny(labels, GOOGLE_LABS) || /\[?google[^\]]*è©•åƒ¹\]?/i.test(title)) return 'google';
  if (hasAny(labels, CUSTOMER_LABS)) return 'customer';
  return 'unspecified';
}
function isOwner(labels=[], title=""){
  if (hasAny(labels, OWNER_LABELS)) return true;
  // è£œå……è¦å‰‡ï¼šæ¨™é¡Œå«å…¬å¸/è·ç¨±å­—æ¨£ä¹Ÿè¦–ç‚ºå…·åï¼ˆé¿å…æ¼æŠ“ï¼‰
  return /å…¬å¸|è‚¡ä»½æœ‰é™|æœ‰é™å…¬å¸|è¡Œè™Ÿ|å·¥ä½œå®¤|å…ˆç”Ÿ|å°å§|ç¶“ç†|è² è²¬äºº|è‘£äº‹|CEO|CTO/i.test(title);
}

/* æ¸…æ´—æ–‡å­—ï¼Œæ§åˆ¶é•·åº¦ï¼›Google ä¾†æºä¸€å¾‹ä¸é¡¯ç¤ºæ­£æ–‡ */
function safeExcerpt(source, body, n=360){
  if (source==='google') return "";   // ä¸é¡¯ç¤ºä»»ä½• Google åŸæ–‡
  const s = String(body||"").trim().replace(/\s{2,}/g,' ');
  return s.length<=n ? s : s.slice(0,n-1)+'â€¦';
}

/* UI å¡ç‰‡ */
function ownerCard(it){
  const labels = it.labels.map(n=>`<span class="pill">${esc(n)}</span>`).join(" ");
  return h(`
    <article class="item" data-chunk-id="owner-${it.number}" data-topic="owner" data-asof-date="${it.date}" data-source-url="${it.url}">
      <h3>${esc(it.title||'ï¼ˆç„¡æ¨™é¡Œï¼‰')}</h3>
      <div class="meta"><span>#${it.number}</span><span>å»ºç«‹ï¼š${it.date}</span><a href="${it.url}" target="_blank" rel="noopener">ä¾†æºï¼šIssue</a></div>
      ${it.excerpt ? `<div>${esc(it.excerpt)}</div>` : `<div class="meta">ï¼ˆæäº¤è€…æœªæä¾›å…§æ–‡ï¼‰</div>`}
      <div class="pills">${labels}</div>
      <div class="meta"><a class="pill" href="${it.url}" target="_blank" rel="noopener">é–±è®€å®Œæ•´å…§å®¹ â†’</a></div>
    </article>
  `);
}
function googleCard(it){
  // åªéœ²å‡ºä¸»é¡Œæ¨™ç±¤èˆ‡æŸ¥è­‰é€£çµï¼ˆæ¿¾æ‰ã€googleã€é¡æ¨™ç±¤èˆ‡è‡ªè¿°æ¨™ç±¤ï¼‰
  const useful = it.labels.filter(n=>!GOOGLE_LABS.some(p=>p.test(n)) && !CUSTOMER_LABS.some(p=>p.test(n)));
  const chips = (useful.length? useful.slice(0,6) : ['Google å…¬é–‹è©•è«–']).map(n=>`<span class="pill">${esc(n)}</span>`).join(" ");
  return h(`
    <article class="item" data-chunk-id="google-${it.number}" data-topic="google" data-asof-date="${it.date}" data-source-url="${it.url}">
      <h3>Google å…¬é–‹è©•è«–ï¼ˆè™•ç†å¾Œï¼‰</h3>
      <div class="meta"><span>#${it.number}</span><span>å»ºç«‹ï¼š${it.date}</span></div>
      <div class="pills">${chips}</div>
      <div class="meta">
        <a class="pill" href="${it.url}" target="_blank" rel="noopener">å‰å¾€ Issue æŸ¥è­‰</a>
        <a class="pill" href="https://www.google.com/search?q=%E5%90%B3%E4%BA%8E%E5%AE%89+%E5%BE%8B%E5%B8%AB+%E8%A9%95%E5%83%B9" target="_blank" rel="noopener">åˆ° Google æŸ¥çœ‹</a>
      </div>
      <small class="small" style="color:var(--muted)">æœ¬å¡ç‰‡ä¸é¡¯ç¤º Google åŸæ–‡èˆ‡æ˜Ÿç­‰ï¼›è«‹æ–¼ Google å•†å®¶é é–±è®€å®Œæ•´å…§å®¹ã€‚</small>
    </article>
  `);
}

/* è¼‰å…¥è³‡æ–™ï¼šå„ªå…ˆ /api/reviewsï¼Œå¤±æ•—å‰‡å›é€€ GitHub API */
async function loadIssues(){
  // A) ä½ çš„ Pages Functions
  try{
    const r = await fetch('/api/reviews',{credentials:'omit'});
    if(r.ok){
      const js = await r.json();
      if(js && Array.isArray(js.items)){
        return js.items.map(x=>({
          number:x.number,
          title:x.title||'(ç„¡æ¨™é¡Œ)',
          labels:x.labels||[],
          created_at:x.created_at,
          url:x.html_url,
          source:x.source || classifyByLabels(x.labels||[], x.title||''),
          body:x.safe_excerpt || ''  // ä¼ºæœç«¯å·²è£åˆ‡éï¼›Google ä¾†æºå¤šåŠç‚ºç©ºå­—ä¸²
        }));
      }
    }
  }catch(e){/* å¿½ç•¥ï¼Œå›é€€ GitHub */}
  // B) å›é€€ GitHub API
  const r = await fetch(`https://api.github.com/repos/${REPO}/issues?state=open&per_page=100`, {headers:{'Accept':'application/vnd.github+json'}});
  const arr = await r.json();
  return (Array.isArray(arr)?arr:[])
    .filter(x=>!x.pull_request)
    .map(x=>{
      const labels=(x.labels||[]).map(l=>l.name);
      const source=classifyByLabels(labels, x.title||'');
      return {
        number:x.number,
        title:x.title||'(ç„¡æ¨™é¡Œ)',
        labels,
        created_at:x.created_at,
        url:x.html_url,
        source,
        body:x.body||''
      };
    });
}

/* ä¸»ç¨‹å¼ */
document.getElementById('lastmod').textContent = new Date().toISOString().slice(0,10);

(async function(){
  const ownersBox = $('#ownersList');
  const googleBox = $('#googleList');
  const moreBtn = $('#moreGoogle');

  let items = await loadIssues();
  // æ­£è¦åŒ–
  items = items.map(d=>({
    number:d.number,
    title:d.title,
    labels:d.labels||[],
    date:new Date(d.created_at).toISOString().slice(0,10),
    url:d.url,
    source:d.source,
    excerpt:safeExcerpt(d.source, d.body, 360)
  }));

  // A) ä¼æ¥­ä¸» 9 ä½ï¼ˆå„ªå…ˆï¼šæœ‰ OWNER_LABELSï¼›ä¸è¶³å†è£œ customer/unspecifiedï¼Œæ’é™¤ googleï¼‰
  const poolOwner = items.filter(i => i.source!=='google');
  const strictOwners = poolOwner.filter(i => isOwner(i.labels, i.title));
  const owners = (strictOwners.length ? strictOwners : poolOwner)
                  .sort((a,b)=>new Date(b.date)-new Date(a.date))
                  .slice(0, OWNERS_LIMIT);

  ownersBox.innerHTML = "";
  if(!owners.length){
    ownersBox.append(h(`<div class="card center" style="grid-column:1/-1">ç›®å‰å°šç„¡ã€Œä¼æ¥­ä¸»ã€æ¨™ç±¤çš„è¦‹è­‰ã€‚è«‹åœ¨æƒ³ç½®é ‚çš„ Issue åŠ ä¸Š <span class="kbd">ä¼æ¥­ä¸»</span> æˆ– <span class="kbd">å…·å</span>ã€‚</div>`));
  }else{
    const frag = document.createDocumentFragment();
    owners.forEach(it=>frag.append(ownerCard(it)));
    ownersBox.append(frag);
  }

  // B) Googleï¼ˆè™•ç†å¾Œï¼›ä¸å«åŸæ–‡ï¼‰
  const googles = items.filter(i=>i.source==='google').sort((a,b)=>new Date(b.date)-new Date(a.date));
  let gPage = 0;
  function renderGoogle(){
    const start=gPage*GOOGLE_PAGE, end=start+GOOGLE_PAGE;
    const slice=googles.slice(start,end);
    if(gPage===0) googleBox.innerHTML="";
    const frag = document.createDocumentFragment();
    slice.forEach(it=>frag.append(googleCard(it)));
    googleBox.append(frag);
    gPage++;
    if(end>=googles.length) moreBtn.style.display='none';
  }
  moreBtn.addEventListener('click', renderGoogle);
  renderGoogle();
})();
</script>
</body>
</html>
