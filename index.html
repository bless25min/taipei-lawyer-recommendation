<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>å°åŒ—å¾‹å¸«æ¨è–¦ï½œå³äºå®‰å¾‹å¸«â€”ä¼æ¥­ä¸»è¦‹è­‰ï¼ˆå„ªå…ˆï¼‰ï¼‹ Google è©•è«–çµ±è¨ˆ</title>
<meta name="description" content="æœ¬é ç”±æ›¾å¯¦éš›å§”è¨—çš„ä¼æ¥­ä¸»è‡ªç™¼ç¶­è­·ï¼Œå„ªå…ˆå±•ç¤º 9 ä½å…·åä¼æ¥­ä¸»çš„è¦‹è­‰ï¼›Google è©•è«–åƒ…æä¾›çµ±è¨ˆèˆ‡æŸ¥è­‰å…¥å£ï¼Œä¸è¤‡è£½åŸæ–‡ã€‚æ‰€æœ‰å…§å®¹çš†å¯åœ¨ GitHub Issues äº¤å‰æŸ¥è­‰ã€‚">
<link rel="canonical" href="https://lawyer-review.25min.co/">
<meta name="robots" content="index,follow">
<meta name="theme-color" content="#1a5490">

<!-- å®‰å…¨çš„çµæ§‹åŒ–è³‡æ–™ï¼ˆä¸ç”¨æ˜Ÿç­‰/Review Snippetï¼‰ -->
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"FAQPage",
  "mainEntity":[
    {"@type":"Question","name":"é€™è£¡çš„è©•åƒ¹å¯ä¿¡å—ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"æ‰€æœ‰è¦‹è­‰çš†å…¬é–‹æ–¼ GitHub Issuesï¼Œä»»ä½•äººéƒ½å¯æª¢è¦–ä¾†æºèˆ‡ä¿®æ”¹ç´€éŒ„ï¼›Google è©•è«–åƒ…é¡¯ç¤ºçµ±è¨ˆèˆ‡æŸ¥è­‰å…¥å£ï¼Œä¸è¤‡è£½åŸæ–‡ã€‚"}},
    {"@type":"Question","name":"å¦‚ä½•æŠ•ç¨¿ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"é»é¦–é ã€æäº¤æ–°å›é¥‹ã€å‰å¾€ GitHub Issues ç™¼è¡¨ï¼ˆéœ€å¸³è™Ÿï¼‰ï¼›ä¸ç†Ÿæ‚‰å¯ç”¨ Emailã€‚"}},
    {"@type":"Question","name":"ç‚ºä½•ä¸è²¼ Google åŸæ–‡ï¼Ÿ","acceptedAnswer":{"@type":"Answer","text":"ç‚ºéµå®ˆæœå°‹/å¹³å°æ”¿ç­–ï¼Œé¿å…è½‰è¼‰ç¬¬ä¸‰æ–¹å…§å®¹ï¼›å¦‚éœ€é–±è®€ï¼Œè«‹å‰å¾€ Google å•†å®¶é ã€‚"}}
  ]
}
</script>

<style>
:root{--primary:#1a5490;--secondary:#2c3e50;--accent:#3498db;--ink:#333;--bg:#fff;--bg2:#f8f9fa;--line:#e0e0e0}
*{box-sizing:border-box}body{margin:0;font:16px/1.6 system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans TC",Arial,sans-serif;color:var(--ink);background:var(--bg)}
a{color:var(--accent);text-decoration:none}a:hover{text-decoration:underline}
.container{max-width:1200px;margin:0 auto;padding:0 20px}
header{background:var(--primary);color:#fff;padding:2rem 0;text-align:center;border-bottom:1px solid rgba(0,0,0,.05)}
header h1{margin:0 0 .5rem;font-size:2rem}
header p{margin:0;opacity:.9}
.main-nav{text-align:center;margin:1.5rem 0}
.main-nav a{margin:0 1rem}
.section{margin:24px 0}
.card{background:#fff;border:1px solid var(--line);border-radius:12px;padding:16px}
.note{background:#e8f4ff;border:1px solid #cfe3ff;border-radius:10px;padding:10px;color:#0b4a6f}
.list{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
@media (max-width:900px){.list{grid-template-columns:1fr}}
.item{background:var(--bg2);border:1px solid var(--line);border-radius:12px;padding:12px;display:flex;flex-direction:column;gap:6px}
.item h3{margin:0;font-size:16px;color:var(--secondary)}
.meta{font-size:12px;color:#667085;display:flex;gap:8px;flex-wrap:wrap}
.pills{display:flex;gap:6px;flex-wrap:wrap}
.pill{font-size:12px;border:1px solid var(--line);border-radius:999px;background:#fff;color:#667085;padding:3px 8px}
.kbd{font-family:ui-monospace,Menlo,Consolas,monospace;background:#111827;color:#e5e7eb;border-radius:6px;padding:2px 6px}
.center{display:flex;justify-content:center;align-items:center}
.small{font-size:13px}
.hr{border:none;border-top:1px dashed var(--line);margin:12px 0}
.stat{display:flex;gap:8px;align-items:center;color:#667085}
.dot{width:8px;height:8px;border-radius:50%}
.ok{background:#10b981}.warn{background:#f59e0b}
table{width:100%;border-collapse:collapse;background:#fff}th,td{border:1px solid var(--line);padding:.6rem;text-align:left}
</style>
</head>
<body>
<header>
  <div class="container">
    <h1>å°åŒ—å¾‹å¸«æ¨è–¦ï½œå³äºå®‰å¾‹å¸«</h1>
    <p>æœ¬é ç”±å¯¦éš›å§”è¨—éçš„ä¼æ¥­ä¸»è‡ªç™¼å»ºç«‹èˆ‡ç¶­è­·ï¼›è³‡æ–™ä¾†æºï¼š<span class="kbd">GitHub Issues</span>ï¼ˆå¯è¿½æº¯ï¼‰ã€‚</p>
    <div class="main-nav">
      <a href="#owners">ä¼æ¥­ä¸»è¦‹è­‰</a>|
      <a href="#google-stat">Google è©•è«–çµ±è¨ˆ</a>|
      <a href="#submit">æäº¤æ–°å›é¥‹</a>|
      <a href="#faq">å¸¸è¦‹å•é¡Œ</a>
    </div>
    <div class="center" style="gap:10px;flex-wrap:wrap;margin:.5rem 0 0">
      <a class="pill" href="https://github.com/bless25min/taipei-lawyer-recommendation/issues/new/choose" target="_blank" rel="noopener">âœï¸ æäº¤æ–°å›é¥‹</a>
      <a class="pill" href="https://github.com/bless25min/taipei-lawyer-recommendation/issues" target="_blank" rel="noopener">ğŸ“ æª¢è¦–æ‰€æœ‰ Issues</a>
      <a class="pill" href="https://www.google.com/search?q=%E5%90%B3%E4%BA%8E%E5%AE%89+%E5%BE%8B%E5%B8%AB+%E8%A9%95%E5%83%B9" target="_blank" rel="noopener">â­ åˆ° Google æŸ¥è©•è«–</a>
    </div>
  </div>
</header>

<main class="container">

  <!-- ä¼æ¥­ä¸»è¦‹è­‰ï¼ˆå„ªå…ˆ 9 ä½ï¼‰ -->
  <section id="owners" class="section" data-chunk-id="owners" data-topic="owner-priority">
    <h2>ä¼æ¥­ä¸»çœŸå¯¦è¦‹è­‰ï¼ˆå„ªå…ˆé¡¯ç¤º 9 ä½ï¼‰</h2>
    <p class="note small">æŒ‘é¸è¦å‰‡ï¼šå¸¶æœ‰ <span class="kbd">ä¼æ¥­ä¸»</span>/<span class="kbd">å…·å</span>/<span class="kbd">named</span> æ¨™ç±¤çš„ Issue å„ªå…ˆï¼›è‹¥ä¸è¶³ 9 å‰‡ï¼Œä»¥é Google ä¾†æºè£œè¶³ã€‚</p>
    <div id="ownersList" class="list">
      <div class="card center" style="grid-column:1/-1">è®€å–ä¸­â€¦</div>
    </div>
  </section>

  <!-- Google è©•è«–çµ±è¨ˆï¼ˆè™•ç†å¾Œï¼Œä¸å«åŸæ–‡ï¼‰ -->
  <section id="google-stat" class="section" data-chunk-id="google-stat" data-topic="google-processed">
    <h2>Google å…¬é–‹è©•è«–ï¼ˆçµ±è¨ˆï¼Œä¸å«åŸæ–‡ï¼‰</h2>
    <div class="card">
      <div class="stat"><span class="dot ok"></span>å·²è¾¨è­˜çš„ Google ä¾†æºï¼š<strong id="gCount">0</strong> å‰‡</div>
      <div class="hr"></div>
      <h3 style="margin:.2rem 0  .5rem">è¿‘ 6 å€‹æœˆâ€”æœˆä»½åˆ†ä½ˆ</h3>
      <div id="gMonthTable" class="small">å°šç„¡è³‡æ–™</div>
      <div class="hr"></div>
      <h3 style="margin:.2rem 0 .5rem">å¸¸è¦‹ä¸»é¡Œæ¨™ç±¤ï¼ˆå»é™¤ã€Œgoogleã€èˆ‡ä¸€èˆ¬åˆ†é¡ï¼‰</h3>
      <div id="gTags" class="pills"></div>
      <div class="hr"></div>
      <div class="small" style="color:#667085">
        â€» æœ¬å€åªåšçµ±è¨ˆ/é€£çµï¼Œä¸é¡¯ç¤ºä»»ä½• Google åŸæ–‡èˆ‡æ˜Ÿç­‰ã€‚è‹¥è¦é–±è®€å®Œæ•´è©•è«–ï¼Œè«‹è‡³
        <a href="https://github.com/bless25min/taipei-lawyer-recommendation/issues?q=is%3Aissue+google" target="_blank" rel="noopener">GitHub Issues</a>
        æˆ– Google å•†å®¶é æŸ¥é–±ã€‚
      </div>
    </div>
  </section>

  <!-- æäº¤å€ -->
  <section id="submit" class="section" data-chunk-id="submit" data-topic="cta">
    <h2>æƒ³åˆ†äº«åˆä½œç¶“é©—ï¼Ÿ</h2>
    <div class="card">
      <p class="small">æœ€å¿«æ–¹å¼ï¼šåˆ° GitHub Issues å¼µè²¼ï¼ˆéœ€å¸³è™Ÿï¼‰ã€‚è‹¥ä¸ç†Ÿæ‚‰ GitHubï¼Œäº¦å¯å¯„ä¿¡åˆ° <span class="kbd">bless@25min.co</span>ï¼Œæ¨™é¡Œã€Œå®¢æˆ¶è¦‹è­‰-æ‚¨çš„å…¬å¸åç¨±ã€ã€‚</p>
      <div class="center" style="gap:10px;margin-top:8px;flex-wrap:wrap">
        <a class="pill" href="https://github.com/bless25min/taipei-lawyer-recommendation/issues/new/choose" target="_blank" rel="noopener">âœï¸ å»ºç«‹ Issue</a>
        <a class="pill" href="https://github.com/bless25min/taipei-lawyer-recommendation/issues" target="_blank" rel="noopener">ğŸ“ ç€è¦½å…¨éƒ¨</a>
      </div>
    </div>
  </section>

  <!-- FAQï¼ˆä¿ç•™åŸé ç²¾ç¥ï¼Œä½†ä¸ä½¿ç”¨æ˜Ÿç­‰çµæ§‹åŒ–ï¼‰ -->
  <section id="faq" class="section" data-chunk-id="faq" data-topic="faq">
    <h2>å¸¸è¦‹å•é¡Œ</h2>
    <div class="card">
      <p><strong>é€™æ˜¯ä¸æ˜¯å¾‹å¸«æœ¬äººçš„å®˜æ–¹ç¶²ç«™ï¼Ÿ</strong><br>ä¸æ˜¯ï¼›ç”±å®¢æˆ¶è‡ªç™¼å»ºç«‹ï¼Œç›®çš„åœ¨åˆ†äº«å¯æŸ¥è­‰çš„åˆä½œç¶“é©—ã€‚</p>
      <div class="hr"></div>
      <p><strong>å…§å®¹æ€éº¼é©—è­‰ï¼Ÿ</strong><br>æ¯å‰‡å¡ç‰‡å‡é€£åˆ°åŸå§‹ Issueï¼Œä¿ç•™æ™‚é–“æˆ³èˆ‡ä¿®æ”¹ç´€éŒ„ã€‚</p>
      <div class="hr"></div>
      <p><strong>ç‚ºä½•ä¸é¡¯ç¤º Google åŸæ–‡èˆ‡æ˜Ÿç­‰ï¼Ÿ</strong><br>ç‚ºéµå¾ªæœå°‹/å¹³å°æ”¿ç­–ï¼Œæœ¬é åªæä¾›çµ±è¨ˆèˆ‡æŸ¥è­‰é€£çµã€‚</p>
    </div>
  </section>

</main>

<footer class="container" style="border-top:1px solid var(--line);padding:16px 0;color:#667085">
  Â© å®¢æˆ¶è¦‹è­‰æ•´ç†ï¼ˆéå®˜æ–¹ï¼‰ Â· æœ€å¾Œæ›´æ–°ï¼š<span id="lastmod"></span>
</footer>

<noscript>
æœ¬é éœ€è¦ JavaScript ä»¥å³æ™‚è¼‰å…¥ GitHub Issuesã€‚è‹¥ç„¡æ³•å•Ÿç”¨ï¼Œè«‹ç›´æ¥å‰å¾€
<a href="https://github.com/bless25min/taipei-lawyer-recommendation/issues" target="_blank" rel="noopener">Issues</a> æª¢è¦–å…¨éƒ¨è©•åƒ¹ã€‚
</noscript>

<script>
/* ===== å¯èª¿åƒæ•¸ ===== */
const REPO = "bless25min/taipei-lawyer-recommendation";
const OWNER_LABELS  = [/ä¼æ¥­ä¸»/i, /å…·å/i, /named/i];            // ç½®é ‚èªå®š
const CUSTOMER_LABS = [/client-feedback/i, /ç”¨æˆ¶è‡ªä¸»ä¸Šå‚³è©•åƒ¹/i, /åŸå‰µ/i];
const GOOGLE_LABS   = [/google-review/i, /googleè©•åƒ¹/i, /ä¾†æº:google/i, /^google$/i];
const OWNERS_LIMIT  = 9;
document.getElementById('lastmod').textContent = new Date().toISOString().slice(0,10);

/* ===== å°å·¥å…· ===== */
const $ = (q,el=document)=>el.querySelector(q);
const h = (html)=>{const t=document.createElement('template');t.innerHTML=html.trim();return t.content.firstElementChild;};
const esc = (s)=>String(s||"").replace(/[&<>"'`]/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;','`':'&#96;'}[c]));
const hasAny=(arr, pats)=> (arr||[]).some(n=>pats.some(p=>p.test(n)));

/* ===== è¼‰å…¥ Issuesï¼šå…ˆè©¦ /api/reviewsï¼Œå¤±æ•—å†å›é€€ GitHub API ===== */
async function loadIssues(){
  // A) å˜—è©¦ä½ çš„ Cloudflare Functions
  try{
    const r = await fetch('/api/reviews',{credentials:'omit'});
    if(!r.ok) throw new Error('bad status '+r.status);
    const js = await r.json();
    if(js && Array.isArray(js.items)){
      return js.items.map(x=>({
        number:x.number,title:x.title||'(ç„¡æ¨™é¡Œ)',labels:x.labels||[],
        created_at:x.created_at,url:x.html_url,source:x.source||'', body:x.safe_excerpt||''
      }));
    }
    throw new Error('bad format');
  }catch(e){/* å¤±æ•— â†’ å›é€€ GitHub */}
  // B) GitHub APIï¼ˆç„¡ Token ä¹Ÿå¯è®€ï¼›è‹¥é™æµï¼Œç¨æ™šæœƒè‡ªå‹•æ¢å¾©ï¼‰
  const r2 = await fetch(`https://api.github.com/repos/${REPO}/issues?state=open&per_page=100`, {headers:{'Accept':'application/vnd.github+json'}});
  if(!r2.ok){throw new Error('GitHub API error '+r2.status)}
  const arr = await r2.json();
  return (Array.isArray(arr)?arr:[])
    .filter(x=>!x.pull_request)
    .map(x=>({
      number:x.number,title:x.title||'(ç„¡æ¨™é¡Œ)',
      labels:(x.labels||[]).map(l=>l.name),
      created_at:x.created_at,url:x.html_url,source:'', body:x.body||''
    }));
}

/* ===== åˆ¤æ–·èˆ‡æ¸²æŸ“ ===== */
function classifyByLabels(labels=[], title=""){
  if (hasAny(labels, GOOGLE_LABS) || /\bgoogle\b/i.test(title)) return 'google';
  if (hasAny(labels, CUSTOMER_LABS)) return 'customer';
  return 'unspecified';
}
function isOwner(labels=[], title=""){
  if (hasAny(labels, OWNER_LABELS)) return true;
  return /å…¬å¸|è‚¡ä»½æœ‰é™|æœ‰é™å…¬å¸|è¡Œè™Ÿ|å·¥ä½œå®¤|å…ˆç”Ÿ|å°å§|ç¶“ç†|è² è²¬äºº|è‘£äº‹|CEO|CTO/i.test(title);
}
function safeExcerpt(src, body, n=320){
  if (src==='google') return "";          // ä¸é¡¯ç¤ºä»»ä½• Google åŸæ–‡
  const s = String(body||"").trim().replace(/\s{2,}/g,' ');
  return s.length<=n ? s : s.slice(0,n-1)+'â€¦';
}

function ownerCard(it){
  const labels = it.labels.map(n=>`<span class="pill">${esc(n)}</span>`).join(" ");
  return h(`
    <article class="item" data-chunk-id="owner-${it.number}" data-topic="owner" data-asof-date="${it.date}" data-source-url="${it.url}">
      <h3>${esc(it.title)}</h3>
      <div class="meta"><span>#${it.number}</span><span>å»ºç«‹ï¼š${it.date}</span><a href="${it.url}" target="_blank" rel="noopener">ä¾†æºï¼šIssue</a></div>
      ${it.excerpt ? `<div>${esc(it.excerpt)}</div>` : `<div class="meta">ï¼ˆæäº¤è€…æœªæä¾›å…§æ–‡ï¼‰</div>`}
      <div class="pills">${labels}</div>
    </article>
  `);
}

function buildMonthTable(items){
  const map = new Map();
  items.forEach(i=>{
    const m = i.date.slice(0,7);
    map.set(m,(map.get(m)||0)+1);
  });
  const rows = [...map.entries()].sort((a,b)=>a[0]<b[0]?1:-1).slice(0,6).reverse();
  if(!rows.length) return '<div class="small">å°šç„¡è³‡æ–™</div>';
  let html = '<table><thead><tr><th>æœˆä»½</th><th>æ•¸é‡</th></tr></thead><tbody>';
  rows.forEach(([m,c])=>{ html += `<tr><td>${m}</td><td>${c}</td></tr>`; });
  html += '</tbody></table>'; return html;
}

(async function(){
  const ownersBox = $('#ownersList');
  const gCount = $('#gCount');
  const gMonthTable = $('#gMonthTable');
  const gTagsBox = $('#gTags');

  try{
    let items = await loadIssues();
    // æ­£è¦åŒ–
    items = items.map(d=>{
      const src = d.source || classifyByLabels(d.labels, d.title);
      return {
        number:d.number,title:d.title,labels:d.labels,
        date:new Date(d.created_at).toISOString().slice(0,10),
        url:d.url,source:src,excerpt:safeExcerpt(src,d.body,360)
      };
    });

    // A) ä¼æ¥­ä¸» 9 ä½
    const poolOwner = items.filter(i=>i.source!=='google');
    const strictOwners = poolOwner.filter(i=>isOwner(i.labels, i.title));
    const owners = (strictOwners.length?strictOwners:poolOwner)
      .sort((a,b)=>new Date(b.date)-new Date(a.date))
      .slice(0, OWNERS_LIMIT);

    ownersBox.innerHTML = "";
    if(!owners.length){
      ownersBox.append(h(`<div class="card center" style="grid-column:1/-1">ç›®å‰æ²’æœ‰å¸¶ <span class="kbd">ä¼æ¥­ä¸»</span>/<span class="kbd">å…·å</span> æ¨™ç±¤çš„è¦‹è­‰ï¼›è«‹åœ¨æ¬²ç½®é ‚çš„ Issue åŠ ä¸Šæ¨™ç±¤ã€‚</div>`));
    }else{
      const frag = document.createDocumentFragment();
      owners.forEach(i=>frag.append(ownerCard(i)));
      ownersBox.append(frag);
    }

    // B) Google çµ±è¨ˆ
    const googles = items.filter(i=>i.source==='google').sort((a,b)=>new Date(b.date)-new Date(a.date));
    gCount.textContent = String(googles.length);
    gMonthTable.innerHTML = buildMonthTable(googles);

    // ä¸»é¡Œæ¨™ç±¤ï¼ˆå»æ‰ google/ä¸€èˆ¬åˆ†é¡ï¼‰
    const tagCount = new Map();
    googles.forEach(i=>{
      (i.labels||[]).forEach(n=>{
        if (GOOGLE_LABS.some(p=>p.test(n)) || CUSTOMER_LABS.some(p=>p.test(n))) return;
        tagCount.set(n,(tagCount.get(n)||0)+1);
      });
    });
    const topTags = [...tagCount.entries()].sort((a,b)=>b[1]-a[1]).slice(0,12);
    if(!topTags.length){ gTagsBox.innerHTML = '<span class="pill">å°šç„¡ä¸»é¡Œæ¨™ç±¤</span>'; }
    else{
      gTagsBox.innerHTML = topTags.map(([k,c])=>`<span class="pill">${esc(k)} Ã— ${c}</span>`).join(" ");
    }
  }catch(err){
    ownersBox.innerHTML = `<div class="card center" style="grid-column:1/-1">è®€å–å¤±æ•—ï¼š${esc(err.message)}ã€‚ä½ ä»å¯å‰å¾€ <a href="https://github.com/${REPO}/issues" target="_blank" rel="noopener">GitHub Issues</a> æŸ¥çœ‹ã€‚</div>`;
    gMonthTable.textContent = 'è®€å–å¤±æ•—';
  }
})();
</script>
</body>
</html>
