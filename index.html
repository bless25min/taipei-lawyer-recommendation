<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>å³äºå®‰å¾‹å¸« è©•åƒ¹ï½œä¼æ¥­ä¸»è¦‹è­‰ï¼ˆå„ªå…ˆï¼‰ï¼‹ Google è©•è«–æŸ¥è­‰å…¥å£ï¼ˆéå®˜æ–¹ï¼‰</title>
<meta name="description" content="æœ¬é ä»¥ GitHub Issues ç‚ºå”¯ä¸€è³‡æ–™æºï¼Œå„ªå…ˆå±•ç¤º 9 ä½å…·åä¼æ¥­ä¸»çš„çœŸå¯¦è¦‹è­‰ï¼›Google è©•è«–åƒ…é¡¯ç¤ºè™•ç†å¾Œçš„ä¸»é¡Œèˆ‡æŸ¥è­‰é€£çµï¼Œä¸è¤‡è£½åŸæ–‡ï¼Œç¬¦åˆæœå°‹èˆ‡å¹³å°è¦ç¯„ã€‚">
<link rel="canonical" href="https://lawyer-review.25min.co/">
<meta name="robots" content="index,follow">
<meta name="theme-color" content="#0b6cff">

<!-- çµæ§‹åŒ–è³‡æ–™ï¼šQAPage + HowToï¼ˆå®‰å…¨ï¼Œä¸æ¨™æ˜Ÿç­‰ï¼‰ -->
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"QAPage",
  "mainEntity":{
    "@type":"Question",
    "name":"å³äºå®‰å¾‹å¸«è©•åƒ¹å¦‚ä½•ï¼Ÿ",
    "acceptedAnswer":{
      "@type":"Answer",
      "text":"æœ¬é ä»¥å¯è¿½æº¯çš„ GitHub Issues ç‚ºè³‡æ–™æºï¼Œå„ªå…ˆå±•ç¤º 9 ä½å…·åä¼æ¥­ä¸»çš„çœŸå¯¦è¦‹è­‰ï¼›Google è©•è«–åƒ…é¡¯ç¤ºè™•ç†å¾Œçš„ä¸»é¡Œæ¨™ç±¤èˆ‡æŸ¥è­‰é€£çµï¼Œä¸è¤‡è£½åŸæ–‡ã€‚"
    }
  }
}
</script>
<script type="application/ld+json">
{
  "@context":"https://schema.org",
  "@type":"HowTo",
  "name":"å¦‚ä½•æŸ¥è­‰ Google ä¸Šçš„å…¬é–‹è©•è«–",
  "description":"ä¸è¤‡è£½ç¬¬ä¸‰æ–¹è©•è«–åŸæ–‡ï¼ŒæŒ‡å¼•ç”¨æˆ¶å‰å¾€ Google å•†å®¶é é–±è®€ã€‚",
  "step":[
    {"@type":"HowToStep","name":"é–‹å•Ÿ Google åœ°åœ–","text":"maps.google.com æˆ– Google åœ°åœ– Appã€‚"},
    {"@type":"HowToStep","name":"æœå°‹","text":"è¼¸å…¥ã€Œé´»å®‰æ³•å¾‹äº‹å‹™æ‰€ å³äºå®‰ã€ã€‚"},
    {"@type":"HowToStep","name":"ç€è¦½è©•è«–","text":"é»ã€Œè©•è«–ã€ï¼Œå¯ç”¨ã€æœ€æ–°ã€æˆ–ã€æœ€é«˜è©•åˆ†ã€ç¯©é¸ã€‚"},
    {"@type":"HowToStep","name":"äº¤å‰æ ¸å°","text":"ç•™æ„æ—¥æœŸã€æƒ…å¢ƒï¼›å¿…è¦æ™‚å°ç…§å®˜æ–¹é èˆ‡å¯å…¬é–‹è‡ªè¿°ã€‚"}
  ]
}
</script>

<style>
:root{
  --bg:#0b1220; --fg:#e6edf7; --muted:#93a4b8; --card:#0f172a; --line:#1f2a44; --brand:#4ea1ff;
  --chip:#132338; --chipbd:#1f2a44; --ok:#10b981; --warn:#f59e0b;
}
@media (prefers-color-scheme: light){
  :root{ --bg:#fafafa; --fg:#0f172a; --muted:#667085; --card:#ffffff; --line:#e2e8f0; --brand:#0b6cff; --chip:#f1f5ff; --chipbd:#e2e8f0; }
}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--fg);font:16px/1.65 system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans TC",Arial,sans-serif}
a{color:var(--brand);text-decoration:none} a:hover{text-decoration:underline}
.wrap{max-width:1100px;margin:0 auto;padding:18px}
header{border-bottom:1px solid var(--line);background:color-mix(in oklch, var(--bg), transparent 0%)}
.hero{padding:14px 0 8px}
.hero h1{margin:0 0 6px;font-size:26px}
.hero p{margin:0;color:var(--muted)}
.ctas{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
.btn{display:inline-flex;gap:8px;align-items:center;padding:9px 12px;border-radius:10px;border:1px solid var(--line);background:var(--card);color:var(--fg);font-weight:700}
.btn.primary{background:var(--brand);color:#fff;border-color:color-mix(in oklch, var(--brand), #000 10%)}
main{padding:20px 0}
.section{margin:20px 0}
h2{font-size:22px;margin:0 0 10px}
.note{background:var(--chip);border:1px solid var(--chipbd);border-radius:10px;padding:10px;color:var(--muted)}
.grid{display:grid;grid-template-columns:2.2fr 1fr;gap:16px}
@media (max-width:980px){.grid{grid-template-columns:1fr}}
.card{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:14px}
.list{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
@media (max-width:900px){.list{grid-template-columns:1fr}}
.item{display:flex;flex-direction:column;gap:6px;border:1px solid var(--line);border-radius:12px;padding:12px;background:var(--bg)}
.item h3{margin:0;font-size:16px}
.meta{color:var(--muted);font-size:12px;display:flex;gap:8px;flex-wrap:wrap}
.pills{display:flex;gap:6px;flex-wrap:wrap}
.pill{font-size:12px;border:1px solid var(--line);border-radius:999px;padding:3px 8px;background:var(--card);color:var(--muted)}
.kbd{font-family:ui-monospace,Menlo,Consolas,monospace;background:#111827;color:#e5e7eb;border-radius:6px;padding:2px 6px}
.actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
small.muted{color:var(--muted)}
hr.hr{border:none;border-top:1px dashed var(--line);margin:12px 0}
.center{display:flex;justify-content:center}
#moreGoogle{margin-top:10px}
.stat{display:flex;gap:8px;align-items:center;color:var(--muted)}
.dot{width:8px;height:8px;border-radius:50%}
.dot.ok{background:var(--ok)} .dot.warn{background:var(--warn)}
</style>
</head>
<body>
<header>
  <div class="wrap hero">
    <h1>å³äºå®‰å¾‹å¸« è©•åƒ¹ï½œä¼æ¥­ä¸»è¦‹è­‰ï¼ˆå„ªå…ˆï¼‰ï¼‹ Google æŸ¥è­‰å…¥å£</h1>
    <p>è³‡æ–™æºï¼š<span class="kbd">GitHub Issues</span>ï¼ˆå¯è¿½æº¯ï¼‰ã€‚ä¸è¤‡è£½ Google åŸæ–‡ã€‚</p>
    <div class="ctas">
      <a class="btn primary" href="https://github.com/bless25min/taipei-lawyer-recommendation/issues/new/choose" target="_blank" rel="noopener">âœï¸ æäº¤æ–°å›é¥‹</a>
      <a class="btn" href="https://github.com/bless25min/taipei-lawyer-recommendation/issues" target="_blank" rel="noopener">ğŸ“ æª¢è¦–æ‰€æœ‰ Issues</a>
      <a class="btn" href="https://www.google.com/search?q=%E5%90%B3%E4%BA%8E%E5%AE%89+%E5%BE%8B%E5%B8%AB+%E8%A9%95%E5%83%B9" target="_blank" rel="noopener">â­ åˆ° Google æŸ¥è©•è«–</a>
    </div>
  </div>
</header>

<main class="wrap" id="main">
  <!-- A. 9 ä½å…·åä¼æ¥­ä¸»ï¼ˆå„ªå…ˆï¼‰ -->
  <section id="owners" class="section">
    <h2>ä¼æ¥­ä¸»çœŸå¯¦è¦‹è­‰ï¼ˆå„ªå…ˆé¡¯ç¤º 9 ä½ï¼‰</h2>
    <p class="note">æ’åºè¦å‰‡ï¼šå¸¶æœ‰ <span class="kbd">client-feedback</span>/<span class="kbd">ç”¨æˆ¶è‡ªä¸»ä¸Šå‚³è©•åƒ¹</span> ç­‰æ¨™ç±¤ï¼Œä¸”åŒ…å« <span class="kbd">å…·å</span>/<span class="kbd">ä¼æ¥­ä¸»</span>/<span class="kbd">named</span> çš„ Issue æœƒè¢«å„ªå…ˆæŒ‘é¸ï¼›è‹¥æ²’æœ‰ä¸Šè¿°æ¨™ç±¤ï¼Œå‰‡å¾é Google ä¾†æºçš„è¦‹è­‰ä¸­å›é€€æŒ‘é¸ã€‚</p>
    <div id="ownersList" class="list">
      <div class="card center" style="grid-column:1/-1">è®€å–ä¸­â€¦</div>
    </div>
  </section>

  <!-- B. Google å…¬é–‹è©•è«–ï¼ˆè™•ç†å¾Œï¼‰ -->
  <section id="google" class="section">
    <h2>Google å…¬é–‹è©•è«–ï¼ˆè™•ç†å¾Œå±•ç¤ºï¼Œä¸å«åŸæ–‡ï¼‰</h2>
    <div class="grid">
      <div class="card">
        <div id="googleList" class="list">
          <div class="card center" style="grid-column:1/-1">æ•´ç†ä¸­â€¦</div>
        </div>
        <div class="center"><button id="moreGoogle" class="btn">è¼‰å…¥æ›´å¤š</button></div>
      </div>
      <aside class="card">
        <div class="stat"><span class="dot ok"></span> å·²è¼‰å…¥ï¼š<span id="statCount">0</span> å‰‡ï¼ˆå«ä¼æ¥­ä¸»èˆ‡ Googleï¼‰</div>
        <div class="stat" style="margin-top:8px"><span class="dot warn"></span> èªªæ˜ï¼šGoogle ä¾†æºåƒ…é¡¯ç¤ºæ¨™ç±¤èˆ‡æŸ¥è­‰é€£çµï¼Œä¸é¡¯ç¤ºåŸæ–‡èˆ‡æ˜Ÿç­‰ã€‚</div>
        <hr class="hr" />
        <p class="small muted">æƒ³è¦ä½ çš„æ„è¦‹è¢«å„ªå…ˆå±•ç¤ºï¼Ÿè«‹åœ¨ Issue åŠ ä¸Š <span class="kbd">å…·å</span> æ¨™ç±¤ï¼ˆå…¬å¸æˆ–å€‹äººå…·åï¼‰ï¼Œä¸¦é¸æ“‡ <span class="kbd">client-feedback</span> é¡åˆ¥ã€‚</p>
      </aside>
    </div>
  </section>

  <section class="section">
    <h2>æ–¹æ³•èˆ‡åˆè¦</h2>
    <div class="card">
      <ul>
        <li>è³‡æ–™ä¾†æºä»¥ GitHub Issues ç‚ºä¸»ï¼›æ¯å‰‡å¡ç‰‡ä¿ç•™åˆ°åŸå§‹ Issue çš„é€£çµï¼Œæ–¹ä¾¿æŸ¥è­‰ã€‚</li>
        <li>Google è©•è«–**ä¸é¡¯ç¤ºåŸæ–‡**ã€ä¸å®£å‘Šæ˜Ÿç­‰ï¼›åªæä¾›æŸ¥è­‰å…¥å£èˆ‡ä¸»é¡Œæ¨™ç±¤ã€‚</li>
        <li>é é¢æ²’æœ‰ Review/AggregateRating çš„çµæ§‹åŒ–è³‡æ–™ï¼Œé¿å…ã€Œè‡ªæˆ‘æœå‹™å‹è©•è«–ã€é¢¨éšªã€‚</li>
      </ul>
    </div>
  </section>
</main>

<footer class="wrap" style="border-top:1px solid var(--line);padding-top:14px;color:var(--muted)">
  Â© å®¢æˆ¶è¦‹è­‰æ•´ç†ï¼ˆéå®˜æ–¹ï¼‰ Â· æœ€å¾Œæ›´æ–°ï¼š<span id="lastmod"></span>
</footer>

<noscript>
æœ¬é éœ€è¦ JavaScript æ‰èƒ½å³æ™‚è¼‰å…¥ Issuesã€‚è‹¥ä½ ç„¡æ³•å•Ÿç”¨ï¼Œè«‹ç›´æ¥å‰å¾€
<a href="https://github.com/bless25min/taipei-lawyer-recommendation/issues" target="_blank" rel="noopener">GitHub Issues</a> æª¢è¦–å…¨éƒ¨è©•åƒ¹ã€‚
</noscript>

<script>
/* ======================
   å¯èª¿åƒæ•¸
====================== */
const REPO = "bless25min/taipei-lawyer-recommendation";
const PRIORITY_LABELS = [/å…·å/i, /ä¼æ¥­ä¸»/i, /named/i];          // å…·ååˆ¤æ–·æ¨™ç±¤
const CUSTOMER_LABELS = [/client-feedback/i, /ç”¨æˆ¶è‡ªä¸»ä¸Šå‚³è©•åƒ¹/i, /åŸå‰µ/i]; // å®¢æˆ¶è‡ªè¿°
const GOOGLE_LABELS = [/ä¾†æº:google/i, /google/i];                // Google ä¾†æº
const OWNERS_LIMIT = 9;                                           // ä¼æ¥­ä¸»å„ªå…ˆé¡¯ç¤ºæ•¸
const GOOGLE_PAGE = 12;                                           // Google æ¯é é¡¯ç¤º
document.getElementById('lastmod').textContent = new Date().toISOString().slice(0,10);

/* ======================
   å·¥å…·å‡½å¼
====================== */
const $ = (q, el=document)=>el.querySelector(q);
const h = (html)=>{const t=document.createElement('template');t.innerHTML=html.trim();return t.content.firstElementChild;};
const esc = (s)=>String(s||"").replace(/[&<>"'`]/g, c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;','`':'&#96;'}[c]));

/* æ–‡å­—æ¸…æ´—ï¼ˆé¿å…é•·åº¦éé•·ï¼‰ */
function trimText(s, n=320){ s = (s||"").trim(); if(s.length<=n) return s; return s.slice(0,n-1)+'â€¦'; }

/* æ¨™ç±¤åˆ¤æ–· */
const hasAny = (names, pats)=>names?.some(n=>pats.some(p=>p.test(n)))||false;

/* ä¾†æºåˆ†é¡ï¼ˆå¾Œç«¯æœ‰ /api/reviews æ™‚æœƒç›´æ¥çµ¦ï¼›é€™é‚Šåšå‰ç«¯ä¿éšªï¼‰ */
function classify(issue){
  const labels = (issue.labels||[]).map(l=> typeof l==='string'?l : l.name);
  if (hasAny(labels, GOOGLE_LABELS) || /googleè©•åƒ¹|google\s*review/i.test(issue.title||"")) return 'google';
  if (hasAny(labels, CUSTOMER_LABELS)) return 'customer';
  return 'unspecified';
}
/* å…·ååˆ¤æ–·ï¼šæ¨™ç±¤å„ªå…ˆï¼Œå¦å‰‡ç”¨ç°¡å–®è¦å‰‡ï¼ˆæ¨™é¡Œå«å…¬å¸/å§“åï¼‰ */
function isNamed(issue){
  const labels = (issue.labels||[]).map(l=> typeof l==='string'?l : l.name);
  if (hasAny(labels, PRIORITY_LABELS)) return true;
  const title = issue.title||"";
  return /å…¬å¸|è‚¡ä»½æœ‰é™|æœ‰é™å…¬å¸|è¡Œè™Ÿ|å·¥ä½œå®¤|å…ˆç”Ÿ|å°å§|ç¶“ç†|è² è²¬äºº|è€é—†|è‘£äº‹|CEO|CTO/i.test(title);
}

/* UIï¼šå¡ç‰‡ */
function renderOwnerCard(it){
  const labels = (it.labels||[]).map(n=>`<span class="pill">${esc(n)}</span>`).join(" ");
  return h(`
    <article class="item" data-chunk-id="issue-${it.number}" data-topic="owner" data-asof-date="${it.date}" data-source-url="${it.url}">
      <h3>${esc(it.title||'ï¼ˆç„¡æ¨™é¡Œï¼‰')}</h3>
      <div class="meta"><span>#${it.number}</span><span>å»ºç«‹ï¼š${it.date}</span><a href="${it.url}" target="_blank" rel="noopener">ä¾†æºï¼šIssue</a></div>
      ${it.excerpt ? `<div>${esc(it.excerpt)}</div>` : `<div class="meta">ï¼ˆæäº¤è€…æœªæä¾›å…§æ–‡ï¼‰</div>`}
      <div class="pills">${labels}</div>
      <div class="actions"><a class="pill" href="${it.url}" target="_blank" rel="noopener">é–±è®€å®Œæ•´å…§å®¹ â†’</a></div>
    </article>
  `);
}
function renderGoogleCard(it){
  // åªé¡¯ç¤ºã€Œæ¨™ç±¤ï¼‹æŸ¥è­‰é€£çµã€ï¼Œä¸é¡¯ç¤ºåŸæ–‡ã€ä¸é¡¯ç¤ºæ˜Ÿç­‰/è©•åˆ†
  const usefulLabels = (it.labels||[]).filter(n=>!GOOGLE_LABELS.some(p=>p.test(n)) && !CUSTOMER_LABELS.some(p=>p.test(n)));
  const chips = usefulLabels.length ? usefulLabels.slice(0,6).map(n=>`<span class="pill">${esc(n)}</span>`).join(" ") : `<span class="pill">Google å…¬é–‹è©•è«–</span>`;
  return h(`
    <article class="item" data-chunk-id="issue-${it.number}" data-topic="google" data-asof-date="${it.date}" data-source-url="${it.url}">
      <h3>Google å…¬é–‹è©•è«–ï¼ˆè™•ç†å¾Œï¼‰</h3>
      <div class="meta"><span>#${it.number}</span><span>å»ºç«‹ï¼š${it.date}</span></div>
      <div class="pills">${chips}</div>
      <div class="actions">
        <a class="pill" href="${it.url}" target="_blank" rel="noopener">å‰å¾€ Issue æŸ¥è­‰</a>
        <a class="pill" href="https://www.google.com/search?q=%E5%90%B3%E4%BA%8E%E5%AE%89+%E5%BE%8B%E5%B8%AB+%E8%A9%95%E5%83%B9" target="_blank" rel="noopener">åˆ° Google æŸ¥çœ‹</a>
      </div>
      <small class="muted">èªªæ˜ï¼šä¸é¡¯ç¤ºä»»ä½• Google åŸæ–‡èˆ‡æ˜Ÿç­‰ï¼›è«‹æ–¼ Google å•†å®¶é é–±è®€å®Œæ•´å…§å®¹ã€‚</small>
    </article>
  `);
}

/* è¼‰å…¥è³‡æ–™ï¼šå„ªå…ˆ /api/reviewsï¼Œå¤±æ•—å‰‡å›é€€ GitHub API */
async function loadData(){
  // A) å˜—è©¦ä½ çš„ Pages Functions
  try{
    const r = await fetch('/api/reviews',{credentials:'omit'});
    if(r.ok){
      const js = await r.json();
      if(js && Array.isArray(js.items)){
        return js.items.map(x=>({
          number:x.number,
          title:x.title,
          labels:x.labels,
          created_at:x.created_at,
          html_url:x.html_url,
          source:x.source,                 // å¾Œç«¯å·²åˆ†é¡ï¼šcustomer / google / unspecified
          safe_excerpt:x.safe_excerpt||""
        }));
      }
    }
  }catch(e){ /* ignore and fallback */ }

  // B) å›é€€ GitHub API
  const url = `https://api.github.com/repos/${REPO}/issues?state=open&per_page=100`;
  const r = await fetch(url,{headers:{'Accept':'application/vnd.github+json'}});
  const arr = await r.json();
  return (Array.isArray(arr)?arr:[]).filter(x=>!x.pull_request).map(x=>{
    const src = classify(x);
    // Google ä¾†æºï¼šå‰ç«¯å†æ¬¡æ·¨åŒ– â†’ ä¸å¸¶ä»»ä½•æ­£æ–‡
    const excerpt = (src==='google') ? "" : trimText(x.body||"", 360);
    return {
      number:x.number,
      title:x.title||"(ç„¡æ¨™é¡Œ)",
      labels:(x.labels||[]).map(l=>l.name),
      created_at:x.created_at,
      html_url:x.html_url,
      source:src,
      safe_excerpt:excerpt
    };
  });
}

/* ä¸»æµç¨‹ */
(async function(){
  const ownersBox = $('#ownersList');
  const googleBox = $('#googleList');
  const statCount = $('#statCount');
  const moreBtn = $('#moreGoogle');

  let data = await loadData();
  // è½‰æ›åŸºæœ¬æ¬„ä½
  data = data.map(d=>({
    number:d.number, title:d.title, labels:d.labels||[],
    date: new Date(d.created_at).toISOString().slice(0,10),
    url: d.html_url, source: d.source || classify(d),
    excerpt: d.safe_excerpt ? trimText(d.safe_excerpt, 360) : ""
  }));
  statCount.textContent = data.length;

  // A) ä¼æ¥­ä¸»å„ªå…ˆï¼ˆ9 ä½ï¼‰
  const namedOwners = data.filter(d => d.source!=='google' && isNamed(d));
  const ownerPool = namedOwners.length ? namedOwners : data.filter(d=>d.source!=='google');
  const owners = ownerPool.sort((a,b)=> new Date(b.date)-new Date(a.date)).slice(0, OWNERS_LIMIT);

  ownersBox.innerHTML = "";
  if(!owners.length){
    ownersBox.append(h(`<div class="card center" style="grid-column:1/-1">ç›®å‰æ²’æœ‰ã€Œå…·åä¼æ¥­ä¸»ã€è¦‹è­‰ã€‚è«‹åœ¨æƒ³å„ªå…ˆé¡¯ç¤ºçš„ Issue åŠ ä¸Š <span class="kbd">å…·å</span> æ¨™ç±¤ã€‚</div>`));
  }else{
    const frag = document.createDocumentFragment();
    owners.forEach(it=>frag.append(renderOwnerCard(it)));
    ownersBox.append(frag);
  }

  // B) Google å…¬é–‹è©•è«–ï¼ˆè™•ç†å¾Œï¼Œä¸å«åŸæ–‡ï¼‰
  const googleItems = data.filter(d=>d.source==='google').sort((a,b)=> new Date(b.date)-new Date(a.date));
  let gPage = 0;
  function renderGooglePage(){
    const slice = googleItems.slice(gPage*GOOGLE_PAGE, (gPage+1)*GOOGLE_PAGE);
    const frag = document.createDocumentFragment();
    slice.forEach(it=>frag.append(renderGoogleCard(it)));
    if(gPage===0) googleBox.innerHTML = "";
    googleBox.append(frag);
    gPage++;
    if(gPage*GOOGLE_PAGE >= googleItems.length) moreBtn.style.display = 'none';
  }
  moreBtn.addEventListener('click', renderGooglePage);
  renderGooglePage(); // åˆæ¬¡è¼‰å…¥
})();
</script>
</body>
</html>
